{
  "object_id": "host_mad_temperature",
  "unique_id": "host_mad_temperature",
  "name": "Host Mad Temperature",
  "state_class": "measurement",
  "unit_of_measurement": "Â°C",
  "device_class": "temperature",
  "icon": "mdi:thermometer",
  "force_update": "false",
  "state_topic": "telegraf/macmini-mad/monitor/sensors",
  "value_template": "{{ (value_json[\"metrics\"] | selectattr('tags.feature', 'eq', 'composite') | map(attribute='fields.temp_input') | first | default(None) | float(None)) if (value_json['metrics'] is defined) else (states('sensor.host_mad_temperature') | float(None)) }}",
  "qos": "1",
  "device": {
    "via_device": "Monitor",
    "identifiers": "telegraf-rack-mad-temperature",
    "name": "Rack Mad Temperature",
    "model": "Sensors",
    "manufacturer": "Telegraf",
    "sw_version": "ASYSTEM_VERSION",
    "suggested_area": "Rack"
  }
}
