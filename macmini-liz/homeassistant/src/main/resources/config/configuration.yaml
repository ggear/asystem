default_config:

group: !include groups.yaml
automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml

homeassistant:
  customize: !include customize.yaml
  customize_glob: !include customize_glob.yaml

http:
  ssl_key: /config/.pem
  ssl_certificate: /config/certificate.pem
  cors_allowed_origins:
    - https://google.com
    - https://www.home-assistant.io
    - https://janeandgraham.com
    - https://home.janeandgraham.com

tts:
  - platform: google_translate

recorder:
  db_url: !env_var DB_URL
  purge_keep_days: 1

mqtt:
  broker: !env_var MQTT_HOST
  port: !env_var MQTT_PORT
  client_id: 'hass'
  discovery: true
  discovery_prefix: 'haas/sensor/config'
  birth_message:
    topic: 'hass/status'
    payload: 'online'
  will_message:
    topic: 'hass/status'
    payload: 'offline'

sensor:
  - platform: bom
    name: Perth Airport
    station: IDW60901.94610
    monitored_conditions:
      - apparent_t
      - cloud
      - cloud_base_m
      - cloud_oktas
      - cloud_type_id
      - cloud_type
      - delta_t
      - gust_kmh
      - gust_kt
      - air_temp
      - dewpt
      - local_date_time
      - local_date_time_full
      - press
      - press_qnh
      - press_msl
      - press_tend
      - rain_trace
      - rel_hum
      - sea_state
      - swell_dir_worded
      - swell_height
      - swell_period
      - vis_km
      - weather
      - wind_dir
      - wind_spd_kmh
      - wind_spd_kt
  - platform: bom_forecast
    name: Perth
    product_id: IDW12300
    forecast_days: 6
    rest_of_today: True
    friendly: False
    friendly_state_format: '{max}, {summary}'
    monitored_conditions:
      - 'max'
      - 'min'
      - 'chance_of_rain'
      - 'possible_rainfall'
      - 'summary'
      - 'detailed_summary'
      - 'icon'
      - 'uv_alert'
      - 'fire_danger'

#weather:
#  - platform: bom
#    name: Perth Airport
#    station: IDW60901.94610

camera:
  - platform: bom
    location: Perth

lovelace:
  mode: yaml
  resources:
    - url: /local/custom_ui/bom-weather-card.js?v=0.1
      type: module
  dashboards:
    lovelace-generated:
      mode: yaml
      filename: notexist.yaml
      title: Generated
      icon: mdi:tools
      show_in_sidebar: true
      require_admin: true

logger:
  default: warning
  logs:
    hacs: warning
    custom_components.hacs: warning
    custom_components.bom_forecast: debug
    homeassistant.components.bom: debug
    homeassistant.components.mqtt: warning
